[["index.html", "Notes Chapter 1 Welcome", " Notes Laurie Platt 2021-02-20 Chapter 1 Welcome This is a place for ad-hoc notes, mainly to do with scripting and mainly R scripts. It is somewhere to store lessons learnt, a resource to remind yourself if you return to something after a while, or to smooth your path a little if it’s something new. There are many excellent online resources that these notes will point to and not attempt to replace. Overtime some notes may mature into package vignettes or become accepted as good practice and included in the Methods Manual. Other notes may prove to be of little value. Hopefully, others from the Performance &amp; Intelligence Team, or elsewhere in Sheffield City Council, will contribute to these notes. However, currently it’s just one person and is orientated to one persons experience: ETL, geocoding and spatial analysis, notes about modelling and visualisations are lacking. As well as the contributors and content, the purpose and scope is open to change. I hope you find the notes useful. "],["github.html", "Chapter 2 Version Control &amp; GitHub 2.1 Version Control 2.2 GIT 2.3 GitHub", " Chapter 2 Version Control &amp; GitHub 2.1 Version Control 2.2 GIT 2.3 GitHub free account scc-pi Here is a review of existing methods. 2.3.1 Security &amp; Data Protection "],["r.html", "Chapter 3 R &amp; RStudio 3.1 Why Script? 3.2 Styleguide 3.3 RStudio Security &amp; Data Protection 3.4 Getting Started 3.5 RStudio Tips", " Chapter 3 R &amp; RStudio 3.1 Why Script? I initially started scripting in Python to automate some spatial analysis tasks, but soon realised that reproducibility was it’s main advantage. Iterating, improving a process incrementally and verifying results by rerunning the script. There’s an element of self-documentation with scripting and with that an ability to return more easily to a scripted task or pick up a scripted task from a colleague. However this depends a lot on in-line comments and adherence to a style guide. Version control and collaboration are also easier with scripting than GUI tools. Scripting is not always better than using GUI tools. It’s horses for courses, and some GUI workflow tools (e.g. FME, ModelBuilder in ArcGIS and Simul8) sit somewhere in the middle. 3.2 Styleguide Something I need to pay more attention to is following the tidyverse style guide, which benefits from familiarity via tidyverse package documentation and supporting tools. Scripting to the same style guide makes it a lot easier to collaborate, which style guide is less important than consistently scripting to a single style guide. 3.3 RStudio Security &amp; Data Protection 3.4 Getting Started RStudio essentials webinars R for Data Science Tidyverse learnR 3.5 RStudio Tips Renviron Write settings "],["rmd.html", "Chapter 4 R Markdown 4.1 R Markdown vs Markdown 4.2 R Markdown Tips 4.3 Notebooks 4.4 Bookdown 4.5 Further Resources", " Chapter 4 R Markdown 4.1 R Markdown vs Markdown TODO 4.2 R Markdown Tips Naming a code block setup means that after you restart RStudio and execute any code in the middle of your markdown document, the setup block will run first e.g. to make sure your libraries are loaded first. 4.3 Notebooks TODO 4.4 Bookdown These notes are written using the bookdown package (???), which was built on to The bookdown package can be installed from CRAN or Github: install.packages(&quot;bookdown&quot;) # or the development version # devtools::install_github(&quot;rstudio/bookdown&quot;) Each Rmd file contains one and only one chapter, and a chapter is defined by the first-level heading #. 4.4.1 Publishing These notes are published on GitHub Pages with GitHub Actions. A GitHub Action has been configured to start when there’s a push to the master branch. The Action renders the Rmd files in the master branch to HTML and then deploys the HTML files as a static website to a branch called gh-pages. Alternatives to using GitHub Actions include Travis and Jekyll. I used the steps outlined in the following blog post: https://medium.com/@delucmat/how-to-publish-bookdown-projects-with-github-actions-on-github-pages-6e6aecc7331e However, I did a lot of the git bash commands manually and there were two fixes I had to make to the deploy_bookdown.yaml file: 1. Under … uses: Cecilapp/GitHub-Pages-deploy@master … added … with: build_dir: _book/ email: ${{ secrets.EMAIL }} 2. Used GITHUB_TOKEN rather than GH_PAT, as this is what is now used by GitHub-Pages-deploy. 4.5 Further Resources Authoring Books with R Markdown by Yihui Xie is the definitive resource for bookdown. "],["api.html", "Chapter 5 APIs 5.1 RESTful APIs 5.2 Wrappers", " Chapter 5 APIs 5.1 RESTful APIs Web page is for human comm Foundation for Council services 5.2 Wrappers We have finished a nice book. "],["python.html", "Chapter 6 Python 6.1 Reticulate 6.2 ArcGIS", " Chapter 6 Python 6.1 Reticulate 6.2 ArcGIS We’re going to make use of the Council’s ArcGIS software from ESRI and Council spatial data held on our Portal. ArcGIS has a better integration with Python than R, so we’re going to leverage that via the reticulate R package. It’s worth highlighting that ESRI’s Python integration with ArcGIS is via two main packages. The arcgis package is what we’re going to use here to work with the Council’s web GIS infrastructure. The arcpy package would be used to leverage the ArcGIS desktop functionality. The distinction between web and desktop for arcgis and arcpy packages respectively is an oversimplification, but it serves a purpose. It’s also worth noting that the integration between the two packages isn’t as seamless as you might expect. To use the arcpy or arcgis packages we first need to specify the ArcGIS Python environment 6.2.1 ArcPy 6.2.2 ArcGIS API We describe our methods in this chapter. "],["gis.html", "Chapter 7 GIS 7.1 ArcGIS 7.2 Portal Login 7.3 Simple Features", " Chapter 7 GIS 7.1 ArcGIS 7.2 Portal Login It’s not good practice to include login details in code, so for my Portal login I’m going to use the .Renviron file option for securing credentials. portal_id = Sys.getenv(&quot;portal_id&quot;) portal_pwd = Sys.getenv(&quot;portal_pwd&quot;) Then, within a Python code chunk, we’re going to login to our Portal. 7.3 Simple Features "],["geocoding.html", "Chapter 8 Postcodes &amp; Addresses 8.1 Postcodes 8.2 LLPG 8.3 Addresses", " Chapter 8 Postcodes &amp; Addresses 8.1 Postcodes 8.2 LLPG 8.3 Addresses "],["references.html", "References", " References "]]
